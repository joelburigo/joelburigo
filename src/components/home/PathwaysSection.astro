---
import Container from '../ui/Container.astro'
import Button from '../ui/Button.astro'
import Icons from '../ui/Icons.astro'

const pathways = [
  {
    icon: 'graduation-cap',
    title: 'Vendas Sem Segredos',
    subtitle: 'Quer fazer sozinho?',
    description: 'Te ensino os 6Ps em 90 dias. Você implementa no seu negócio com minha mentoria ao vivo.',
    price: '12x R$ 166,42',
    priceHtml: true,
    period: 'ou R$ 1.997 à vista',
    features: [
      '15 módulos práticos',
      'CRM profissional incluído',
      '48 mentorias ao vivo',
      'Comunidade exclusiva',
    ],
    link: '/vendas-sem-segredos',
    buttonText: 'Ver Programa Completo',
    buttonVariant: 'primary' as const,
    idealFor: 'Empreendedores que querem autonomia',
    badge: 'MAIS POPULAR',
    color: 'lime' as const,
  },
  {
    icon: 'wrench',
    title: 'Services (DWY)',
    subtitle: 'Quer minha equipe fazendo junto?',
    description: 'Minha equipe faz JUNTO com você. Implementamos os 6Ps enquanto você aprende.',
    price: 'Sob Consulta',
    period: 'Projeto ou Retainer',
    features: [
      'CRM configurado do zero',
      'Funis e automações',
      'Campanhas de tráfego',
      'Gestão completa',
    ],
    link: '/services',
    buttonText: 'Conhecer Serviço',
    buttonVariant: 'outline' as const,
    idealFor: 'Empresas que querem delegar tudo',
    badge: null,
    color: 'blue' as const,
  },
  {
    icon: 'briefcase',
    title: 'Advisory 1:1',
    subtitle: 'Quer acesso direto a mim?',
    description: 'Sessões mensais 1:1 pra decisões críticas. Acesso direto no WhatsApp. Minha mente no seu negócio.',
    price: 'Sob Aplicação',
    period: 'Vagas limitadas',
    features: [
      'Sessões mensais 1-on-1',
      'Acesso direto via WhatsApp',
      'Análise de estratégia',
      'Mínimo 6 meses',
    ],
    link: '/advisory',
    buttonText: 'Ver Detalhes',
    buttonVariant: 'outline' as const,
    idealFor: 'CEOs que precisam de sparring partner',
    badge: null,
    color: 'blue' as const,
  },
]
---

<section class="relative overflow-hidden bg-dark py-16 md:py-24 lg:py-32">
  <!-- Background decoration -->

  <Container class="relative z-10">
    <div class="mx-auto mb-20 max-w-3xl text-center">
      <span class="mb-6 inline-block rounded-full border border-lime/30 bg-lime/10 px-4 py-1.5 text-sm font-display font-bold text-lime backdrop-blur-sm">
        OS 3 CAMINHOS
      </span>
      <h2 class="mb-6 font-display text-display-sm text-white md:text-display-md">
        Como Posso <span class="text-lime">Te Ajudar</span>
      </h2>
      <p class="mb-4 font-sans text-body-lg text-gray-200">
        Três formas de trabalhar comigo. Todas baseadas nos 6Ps.
      </p>
      <p class="font-sans text-body text-gray-400">
        Escolhe o formato que faz mais sentido pro seu momento e faturamento
      </p>
    </div>

    <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
      {pathways.map((pathway, index) => {
        const delay = index * 0.2
        return (
          <div class="pathway-card group" style={`animation-delay: ${delay}s`}>
            <div class={`relative flex h-full flex-col overflow-hidden rounded-2xl border-2 transition-all duration-300 ${
              pathway.badge 
                ? 'border-lime bg-dark shadow-2xl shadow-lime/20 hover:shadow-lime/30' 
                : 'border-white/10 bg-white/5 backdrop-blur-sm hover:border-white/20'
            }`}>
              {/* Badge */}
              {pathway.badge && (
                <div class="absolute -right-12 top-6 rotate-45 bg-lime px-12 py-1">
                  <span class="font-display text-xs font-bold uppercase tracking-wide text-dark">
                    {pathway.badge}
                  </span>
                </div>
              )}

              <div class="p-8">
                {/* Icon */}
                <div class={`mb-6 flex h-16 w-16 items-center justify-center rounded-2xl ${
                  pathway.badge 
                    ? 'bg-lime/20 text-lime' 
                    : 'bg-white/10 text-white'
                }`}>
                  <Icons name={pathway.icon} class="h-8 w-8" />
                </div>

                {/* Title */}
                <h3 class="mb-4 font-display text-h2 text-white">{pathway.title}</h3>
                
                {/* Subtitle - DESTAQUE */}
                <div class={`mb-6 rounded-xl p-4 ${
                  pathway.badge 
                    ? 'bg-lime/10 border-2 border-lime/30' 
                    : 'bg-white/5 border-2 border-white/10'
                }`}>
                  <p class={`font-display text-h3 font-extrabold italic ${
                    pathway.badge ? 'text-lime' : 'text-white'
                  }`}>
                    {pathway.subtitle}
                  </p>
                </div>

                {/* Description */}
                <p class="mb-8 font-sans text-body text-gray-200">
                  {pathway.description}
                </p>

                {/* Features */}
                <ul class="mb-8 space-y-3">
                  {pathway.features.map((feature) => (
                    <li class="flex items-start gap-3 font-sans text-body-sm text-gray-200">
                      <Icons name="check" class={`h-5 w-5 flex-shrink-0 ${pathway.badge ? 'text-lime' : 'text-white/90'}`} />
                      <span>{feature}</span>
                    </li>
                  ))}
                </ul>

                {/* Price */}
                <div class="mb-8 border-t border-white/10 pt-6">
                  <p class={`font-display text-3xl font-bold ${pathway.badge ? 'text-lime' : 'text-white'}`}>
                    {pathway.priceHtml ? (
                      <>
                        <span class="text-xl align-top">12x</span> R$ 166,42
                      </>
                    ) : (
                      pathway.price
                    )}
                  </p>
                  <p class="font-sans text-body-sm text-gray-400">{pathway.period}</p>
                </div>

                {/* Button */}
                <a href={pathway.link} class="block w-full">
                  <Button
                    variant={pathway.buttonVariant}
                    class={`w-full ${
                      pathway.badge
                        ? '!bg-lime !text-dark hover:!bg-lime/90'
                        : '!border-white !text-white hover:!bg-white/10'
                    }`}
                  >
                    {pathway.buttonText}
                  </Button>
                </a>

                <p class="mt-4 text-center font-sans text-xs text-gray-400">
                  Ideal para: {pathway.idealFor}
                </p>
              </div>
            </div>
          </div>
        )
      })}
    </div>
  </Container>
</section>

<style>
  .pathway-card {
    opacity: 0;
    animation: fadeInUp 0.6s ease-out forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
