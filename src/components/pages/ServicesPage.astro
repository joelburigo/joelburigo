---
import Container from '../ui/Container.astro'
import Button from '../ui/Button.astro'
import VideoPlayer from '../ui/VideoPlayer.astro'
import { cases } from '../../data/cases'
import Icons from '../ui/Icons.astro'


// Filtrar cases do Services (Funda√ß√£o, Acelera√ß√£o, ScaleUp)
const casesServices = cases.filter(c => c.produto.includes('Services')).slice(0, 3)

const pacotes = [
  {
    nome: 'Funda√ß√£o',
    icon: 'Zap',
    investimento: 'R$ 4.500/m√™s',
    faturamento: 'Se voc√™ fatura R$ 10-50k/m√™s',
    foco: 'P1-P4 (base estrutural)',
    permanencia: '6-9 meses',
    resultado: '1.5-2x em vendas',
    inclusos: [
      'Growth CRM (5 usu√°rios)',
      '3 funis configurados',
      '5 automa√ß√µes essenciais',
      '2 landing pages/m√™s',
      'Gest√£o de 1 rede social',
      'Tr√°fego pago at√© R$ 10k/m√™s',
      '4 mentorias/m√™s (1h cada)',
      'Playbook comercial (10-15 p√°ginas)',
    ],
    destaque: true,
  },
  {
    nome: 'Acelera√ß√£o',
    icon: 'TrendingUp',
    investimento: 'R$ 6.000/m√™s',
    faturamento: 'Se voc√™ fatura R$ 50-200k/m√™s',
    foco: 'P1-P5 (sistema completo)',
    permanencia: '9-12 meses',
    resultado: '2-3x em vendas',
    baseDe: 'Funda√ß√£o',
    inclusos: [
      'Usu√°rios CRM ilimitados',
      '10 automa√ß√µes',
      'Lead scoring configurado',
      '5 landing pages/m√™s',
      'Gest√£o de 2 redes sociais',
      '2 artigos de blog/m√™s (SEO)',
      'Tr√°fego pago at√© R$ 25k/m√™s',
      '6 mentorias/m√™s',
      'Treinamento de equipe',
      'Playbook comercial (30 p√°ginas)',
    ],
    destaque: false,
  },
  {
    nome: 'ScaleUp',
    icon: 'Rocket',
    investimento: 'R$ 9.000/m√™s',
    faturamento: 'Se voc√™ fatura R$ 100-300k/m√™s',
    foco: 'Todos os 6Ps (opera√ß√£o aut√¥noma)',
    permanencia: '12-18 meses',
    resultado: '3-4x em vendas, equipe aut√¥noma',
    baseDe: 'Acelera√ß√£o',
    inclusos: [
      'Landing pages ilimitadas',
      'Gest√£o de 3 redes sociais',
      '4 artigos de blog/m√™s',
      'Prospec√ß√£o ativa (500 contatos/m√™s)',
      'Estrutura√ß√£o de equipe comercial (P6)',
      '8 mentorias/m√™s',
      'WhatsApp VIP com Joel',
      'Playbook comercial (50-80 p√°ginas)',
    ],
    destaque: false,
  },
]

const diferenciais = [
  { titulo: 'Mensal SEM Fidelidade', desc: 'Cancela quando quiser, sem multa' },
  { titulo: 'Upgrade Livre', desc: 'Muda de pacote quando crescer' },
  { titulo: 'CRM Inclu√≠do', desc: 'N√£o √© custo extra, j√° est√° dentro' },
  { titulo: 'M√£o na Massa', desc: 'Eu implemento, voc√™ aprende' },
]

// Mapear cases para formato de depoimentos
const nichoAvatarsServices: Record<string, string> = {
  'Servi√ßos Cont√°beis': 'üìä',
  'Marketing Digital': 'üé®',
  'Fisioterapia': 'üè•',
}

const depoimentos = casesServices.map(c => ({
  nome: c.empresa,
  resultado: c.resultado,
  texto: c.solucao.split('.').slice(0, 2).join('.') + '.',
  avatar: nichoAvatarsServices[c.nicho] || 'üè¢'
}))

const faseImplementacao = [
  {
    fase: 'M√™s 1-2',
    titulo: 'Diagn√≥stico e Funda√ß√£o',
    itens: [
      'Auditoria completa dos 6Ps',
      'Posicionamento e ICP validados',
      'Oferta estruturada com precifica√ß√£o',
      'CRM implementado e configurado',
      'Equipe treinada no b√°sico',
    ]
  },
  {
    fase: 'M√™s 3-5',
    titulo: 'Estrutura√ß√£o',
    itens: [
      'Funis e automa√ß√µes no ar',
      'Landing pages otimizadas',
      'Tr√°fego pago OU prospec√ß√£o ativa',
      'Processos comerciais documentados',
      'Dashboard de m√©tricas ativo',
    ]
  },
  {
    fase: 'M√™s 6+',
    titulo: 'Otimiza√ß√£o',
    itens: [
      'A/B tests cont√≠nuos',
      'Escalada de tr√°fego/prospec√ß√£o',
      'Expans√£o de equipe comercial',
      'Refinamento de processos',
      'Autonomia crescente',
    ]
  },
]

const faq = [
  {
    pergunta: 'Qual a diferen√ßa entre Services e VSS?',
    resposta: 'No VSS voc√™ implementa com minhas mentorias (DIY). No Services EU implemento com minha equipe junto com voc√™ (DWY). Quer autonomia e economia? VSS. Quer delegar e focar no core? Services.'
  },
  {
    pergunta: 'Quanto tempo at√© eu ver resultado?',
    resposta: 'Primeiros leads qualificados em 30-45 dias. Escala sustent√°vel a partir do 3¬∫-4¬∫ m√™s. Mas olha: depende do seu segmento, do budget de tr√°fego e de quanto voc√™ colabora com a equipe.'
  },
  {
    pergunta: 'Posso cancelar a qualquer momento?',
    resposta: 'SIM. N√£o tem fidelidade. Se voc√™ quer sair, √© porque n√£o estou entregando valor. Prefiro perder o cliente a prender quem n√£o quer ficar.'
  },
  {
    pergunta: 'Quantos clientes voc√™ atende ao mesmo tempo?',
    resposta: 'Por enquanto, m√°ximo 15 clientes ativos. Isso garante que eu consiga dar aten√ß√£o adequada pra cada um. Importante: Services √© produto de transi√ß√£o. Quando o VSS amadurecer, provav elmente vou descontinuar ou aumentar muito o investimento. Se voc√™ quer implementa√ß√£o guiada a este pre√ßo, o momento √© agora.'
  },
  {
    pergunta: 'E se eu quiser mudar de pacote?',
    resposta: 'Upgrade ou downgrade livre. Sua empresa cresceu? Sobe de pacote. Reduziu faturamento? Desce. Flexibilidade total pro seu momento.'
  },
]
---

<div class="flex min-h-screen flex-col">
  <main class="flex-grow pt-16 md:pt-20">
    <!-- Hero -->
    <section class="relative overflow-hidden section-hero py-12 md:py-16 lg:py-20">
      
      <Container class="relative z-10">
        <div class="mx-auto max-w-5xl">
          <div class="flex flex-col gap-12">
            <!-- Top Content -->
            <div class="text-center">
              <span class="mb-6 inline-block rounded-full border border-lime/30 bg-lime/20 px-6 py-2 font-display text-sm font-bold text-lime backdrop-blur-sm">
                IMPLEMENTA√á√ÉO COMPLETA | DFY (DONE FOR YOU)
              </span>
              <h1 class="mb-6 font-display text-5xl font-bold text-white md:text-6xl">
                Services (DWY)
              </h1>
              <p class="mb-4 font-sans text-h3 font-semibold text-white/90">
                Minha Equipe Implementa JUNTO com Voc√™
              </p>
              <p class="mb-10 font-sans text-body-lg text-gray-200">
                Cansou de fazer tudo sozinho? Eu implemento os 6Ps completos no seu neg√≥cio enquanto voc√™ aprende. Done WITH You, n√£o Done FOR You.
              </p>
            </div>

            <!-- Video Full Width -->
            <div class="w-full">
              <VideoPlayer
                videoUrl="https://www.youtube.com/watch?v=nCf8pnEjB5M"
                title="Veja como funciona a Implementa√ß√£o Guiada"
                class="w-full"
              />
            </div>

            <!-- CTA Section -->
            <div class="text-center">
              <a href="/agendar-services" class="inline-block">
                <Button variant="primary" size="lg">
                  Agendar Conversa Estrat√©gica
                </Button>
              </a>
              
              <p class="mt-8 font-sans text-sm text-white/90 text-center">
                ‚ö° Mensalidade SEM fidelidade | Cancele quando quiser
              </p>
            </div>
          </div>
        </div>
      </Container>
    </section>

    <!-- O Que Fazemos -->
    <section class="section-dark py-12 md:py-14 lg:py-16">
      <Container>
        <div class="mx-auto max-w-4xl text-center mb-16">
          <h2 class="mb-6 font-display text-display-sm text-white">
            O Que Fa√ßo <span class="text-lime">com a Minha Equipe</span>
          </h2>
          <p class="font-sans text-body-lg text-gray-200">
            Aplico os 6Ps completos no seu neg√≥cio. Minha equipe faz junto, voc√™ aprende fazendo.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">üéØ</div>
            <h3 class="mb-2 font-display text-h3 text-white">Posicionamento</h3>
            <p class="font-sans text-body-sm text-gray-200">Diferencial √∫nico definido</p>
          </div>
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">üë•</div>
            <h3 class="mb-2 font-display text-h3 text-white">P√∫blico</h3>
            <p class="font-sans text-body-sm text-gray-200">ICP e personas mapeados</p>
          </div>
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">üì¶</div>
            <h3 class="mb-2 font-display text-h3 text-white">Produto</h3>
            <p class="font-sans text-body-sm text-gray-200">Oferta irresist√≠vel estruturada</p>
          </div>
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">‚öôÔ∏è</div>
            <h3 class="mb-2 font-display text-h3 text-white">Programas</h3>
            <p class="font-sans text-body-sm text-gray-200">CRM + funis + automa√ß√µes</p>
          </div>
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">üìã</div>
            <h3 class="mb-2 font-display text-h3 text-white">Processos</h3>
            <p class="font-sans text-body-sm text-gray-200">Playbook comercial completo</p>
          </div>
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">üëî</div>
            <h3 class="mb-2 font-display text-h3 text-white">Pessoas</h3>
            <p class="font-sans text-body-sm text-gray-200">Equipe treinada e pronta</p>
          </div>
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">üìà</div>
            <h3 class="mb-2 font-display text-h3 text-white">M√©tricas</h3>
            <p class="font-sans text-body-sm text-gray-200">Dashboard e KPIs configurados</p>
          </div>
          <div class="rounded-xl border-2 border-white/10 bg-white/5 p-6">
            <div class="mb-4 text-4xl">üöÄ</div>
            <h3 class="mb-2 font-display text-h3 text-white">Tra√ß√£o</h3>
            <p class="font-sans text-body-sm text-gray-200">Leads entrando todo dia</p>
          </div>
        </div>
      </Container>
    </section>

    <!-- Pacotes -->
    <section class="section-dark py-24">
      <Container>
        <div class="mx-auto max-w-7xl">
          <div class="mb-16 text-center">
            <h2 class="mb-4 font-display text-display-sm text-white">
              Escolha Seu <span class="text-lime">Pacote</span>
            </h2>
            <p class="mx-auto max-w-2xl font-sans text-body-lg text-gray-200">
              3 n√≠veis de implementa√ß√£o para cada fase do seu crescimento
            </p>
          </div>

          <div class="grid grid-cols-1 gap-8 lg:grid-cols-3">
            {pacotes.map((pacote) => (
              <div class={`rounded-2xl border-2 p-8 transition-all ${
                pacote.destaque 
                  ? 'border-lime bg-lime/10 shadow-2xl shadow-lime/20 scale-105' 
                  : 'border-white/10 bg-white/5 hover:border-lime/50'
              }`}>
                {pacote.destaque && (
                  <div class="mb-4 inline-block rounded-full bg-lime px-4 py-1 font-display text-xs font-bold text-dark">
                    MAIS VENDIDO
                  </div>
                )}
                
                <h3 class="mb-2 font-display text-h1 text-white">{pacote.nome}</h3>
                <p class="mb-6 font-display text-3xl font-bold text-lime">{pacote.investimento}</p>
                
                <div class="mb-6 space-y-2 border-b border-white/10 pb-6">
                  <p class="font-sans text-sm text-gray-400">
                    <span class="font-semibold text-white">Faturamento ideal:</span> {pacote.faturamento}
                  </p>
                  <p class="font-sans text-sm text-gray-400">
                    <span class="font-semibold text-white">Foco:</span> {pacote.foco}
                  </p>
                  <p class="font-sans text-sm text-gray-400">
                    <span class="font-semibold text-white">Perman√™ncia m√©dia:</span> {pacote.permanencia}
                  </p>
                  <p class="font-sans text-sm text-gray-400">
                    <span class="font-semibold text-white">Resultado esperado:</span> {pacote.resultado}
                  </p>
                </div>

                {pacote.baseDe && (
                  <div class="mb-4 rounded-lg bg-lime/20 border border-lime/30 p-3">
                    <p class="font-sans text-xs font-semibold text-lime text-center">
                      ‚úì TUDO do {pacote.baseDe} +
                    </p>
                  </div>
                )}

                <ul class="mb-8 space-y-3">
                  {pacote.inclusos.map((item) => (
                    <li class="flex items-start gap-2">
                      <Icons name="check-circle-2" class="h-5 w-5 flex-shrink-0 text-lime" />
                      <span class="font-sans text-body-sm text-gray-200">{item}</span>
                    </li>
                  ))}
                </ul>

                <a href="/agendar-services" class="block">
                  <Button 
                    variant={pacote.destaque ? 'primary' : 'outline'} 
                    class="w-full"
                  >
                    Solicitar {pacote.nome}
                    <Icons name="arrow-right" class="ml-2 h-4 w-4" />
                  </Button>
                </a>
              </div>
            ))}
          </div>
        </div>
      </Container>
    </section>

    <!-- Depoimentos -->
    <section class="bg-dark py-24">
      <Container>
        <div class="mx-auto max-w-7xl">
          <div class="mb-16 text-center">
            <h2 class="mb-4 font-display text-display-sm text-white">
              Resultados de Quem <span class="text-lime">Delegou</span>
            </h2>
            <p class="mx-auto max-w-3xl font-sans text-body-lg text-gray-200">
              Empresas que escolheram focar no neg√≥cio enquanto implementamos vendas
            </p>
          </div>

          <div class="grid grid-cols-1 gap-8 md:grid-cols-3">
            {depoimentos.map((depoimento) => (
              <div class="rounded-2xl border-2 border-lime/20 bg-white/5 p-8">
                <div class="mb-4 flex items-center gap-4">
                  <div class="text-4xl">{depoimento.avatar}</div>
                  <div>
                    <div class="mb-1 flex gap-1">
                      <Icons name="star" class="h-4 w-4 fill-lime text-lime" />
                      <Icons name="star" class="h-4 w-4 fill-lime text-lime" />
                      <Icons name="star" class="h-4 w-4 fill-lime text-lime" />
                      <Icons name="star" class="h-4 w-4 fill-lime text-lime" />
                      <Icons name="star" class="h-4 w-4 fill-lime text-lime" />
                    </div>
                    <p class="font-display text-sm font-semibold text-white">{depoimento.nome}</p>
                  </div>
                </div>
                <p class="mb-4 font-display text-lg font-bold text-lime">{depoimento.resultado}</p>
                <p class="font-sans text-body text-gray-200">{depoimento.texto}</p>
              </div>
            ))}
          </div>
        </div>
      </Container>
    </section>

    <!-- Jornada de Implementa√ß√£o -->
    <section class="bg-dark py-24">
      <Container>
        <div class="mx-auto max-w-7xl">
          <div class="mb-16 text-center">
            <h2 class="mb-4 font-display text-display-sm text-white">
              Como Funciona a <span class="text-lime">Implementa√ß√£o</span>
            </h2>
            <p class="mx-auto max-w-3xl font-sans text-body-lg text-gray-200">
              Processo estruturado em 3 fases. Do diagn√≥stico √† autonomia completa.
            </p>
          </div>

          <div class="grid grid-cols-1 gap-8 md:grid-cols-3">
            {faseImplementacao.map((fase) => (
              <div class="rounded-2xl border-2 border-white/10 bg-white/5 p-8">
                <div class="mb-4 inline-block rounded-full bg-lime/20 px-4 py-2">
                  <span class="font-display text-sm font-bold text-lime">{fase.fase}</span>
                </div>
                <h3 class="mb-4 font-display text-h3 text-white">{fase.titulo}</h3>
                <ul class="space-y-3 font-sans text-body-sm text-gray-200">
                  {fase.itens.map((item) => (
                    <li class="flex items-start gap-2">
                      <Icons name="check-circle-2" class="h-5 w-5 flex-shrink-0 text-lime" />
                      <span>{item}</span>
                    </li>
                  ))}
                </ul>
              </div>
            ))}
          </div>
        </div>
      </Container>
    </section>

    <!-- Diferenciais -->
    <section class="section-dark py-24">
      <Container>
        <div class="mx-auto max-w-7xl">
          <div class="mb-16 text-center">
            <h2 class="mb-4 font-display text-display-sm text-white">
              Por Que Services √© <span class="text-lime">Diferente</span>
            </h2>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {diferenciais.map((diff) => (
              <div class="rounded-xl border-2 border-lime/20 bg-lime/10 p-6 text-center">
                <h3 class="mb-2 font-display text-h3 text-white">{diff.titulo}</h3>
                <p class="font-sans text-body-sm text-gray-200">{diff.desc}</p>
              </div>
            ))}
          </div>

          <div class="mt-12 rounded-2xl border-2 border-white/10 bg-white/5 p-8 text-center">
            <p class="mb-4 font-display text-h2 text-white">
              "Se voc√™ quer sair, √© porque n√£o estou entregando valor."
            </p>
            <p class="font-sans text-body text-gray-200">
              Prefiro perder o cliente a prender quem n√£o quer ficar. Por isso n√£o tem fidelidade.
            </p>
            <p class="mt-4 font-sans text-sm text-lime">‚Äî Joel Burigo</p>
          </div>
        </div>
      </Container>
    </section>

    <!-- FAQ -->
    <section class="bg-dark py-24">
      <Container>
        <div class="mx-auto max-w-4xl">
          <div class="mb-16 text-center">
            <h2 class="mb-4 font-display text-display-sm text-white">
              Perguntas <span class="text-lime">Frequentes</span>
            </h2>
          </div>

          <div class="space-y-6">
            {faq.map((item) => (
              <details class="group rounded-xl border-2 border-white/10 bg-white/5 p-6 transition-all hover:border-lime/30">
                <summary class="flex cursor-pointer items-start justify-between gap-4 font-display text-lg font-semibold text-white">
                  <span>{item.pergunta}</span>
                  <span class="text-lime transition-transform group-open:rotate-180">‚ñº</span>
                </summary>
                <p class="mt-4 border-t border-white/10 pt-4 font-sans text-body text-gray-200">
                  {item.resposta}
                </p>
              </details>
            ))}
          </div>

          <div class="mt-12 rounded-2xl border-2 border-lime/30 bg-lime/10 p-8 text-center">
            <Icons name="shield" class="mx-auto mb-4 h-12 w-12 text-lime" />
            <h3 class="mb-4 font-display text-h3 text-white">Garantia Services</h3>
            <p class="mb-4 font-sans text-body text-gray-200">
              30 dias de garantia. Se voc√™ n√£o ver progresso concreto nos primeiros 30 dias, 
              devolvemos o investimento do primeiro m√™s. Simples assim.
            </p>
          </div>
        </div>
      </Container>
    </section>

    <!-- CTA Final -->
    <section class="relative overflow-hidden section-hero py-24">
      
      <Container class="relative z-10">
        <div class="mx-auto max-w-3xl text-center">
          <h2 class="mb-6 font-display text-display-md text-white">
            Pronto Para Escalar?
          </h2>
          <p class="mb-8 font-sans text-body-lg text-white/80">
            Agende uma conversa estrat√©gica de 30-45 minutos para entender qual pacote √© ideal para o seu momento
          </p>
          <a href="/agendar-services" class="inline-block">
            <Button variant="primary" size="lg">
              Agendar Conversa Agora
            </Button>
          </a>
          <p class="mt-6 font-sans text-sm text-white/90">
            üìÖ Vagas limitadas | Atendemos apenas 15 clientes simultaneamente
          </p>
        </div>
      </Container>
    </section>
  </main>
</div>

<style>
  section {
    opacity: 0;
    animation: fadeIn 0.6s ease-out forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
</style>
