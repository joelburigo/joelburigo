---
import Layout from '../layouts/Layout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import Container from '../components/ui/Container.astro';
import Icons from '../components/ui/Icons.astro';
import { cases } from '../data/cases';

const seo = {
  title: 'Cases de Sucesso | Joel Burigo',
  description:
    'Resultados reais: R$ 160k ‚Üí R$ 1M/m√™s. Veja como empresas estruturaram vendas.',
  keywords: 'cases sucesso vendas, resultados clientes, framework 6Ps, Joel Burigo',
};

// Usar cases importados do arquivo centralizado
---

<Layout title={seo.title} description={seo.description} keywords={seo.keywords}>
  <Header />

  <main class="flex-grow">
    <!-- Hero -->
    <section class="bg-dark py-32">
      <Container>
        <div class="mx-auto max-w-3xl text-center">
          <div class="mb-6 inline-block rounded-full border border-lime/30 bg-lime/10 px-4 py-2">
            <span class="font-display text-sm font-bold text-lime">CASES</span>
          </div>
          <h1 class="mb-6 font-display text-display-lg text-white">
            Resultados <span class="text-lime">Reais</span>
          </h1>
          <p class="mb-4 font-sans text-body-lg text-gray-200">
            Alguns dos 140+ clientes que implementaram os 6Ps e transformaram vendas aleat√≥rias em previs√≠veis.
          </p>
          <p class="font-sans text-body text-gray-400">
            <strong class="text-white">Disclaimer:</strong> Resultados variam conforme execu√ß√£o, nicho
            e momento. N√£o prometo f√≥rmula m√°gica, prometo sistema testado.
          </p>
        </div>
      </Container>
    </section>

    <!-- Cases Grid -->
    <section class="bg-dark pb-24 pt-12">
      <Container>
        <!-- Filtros -->
        <div class="mb-8 flex flex-wrap justify-center gap-3">
          <button
            class="filter-btn rounded-full border-2 border-lime bg-lime px-6 py-2 font-display text-sm font-bold text-dark transition-all hover:bg-lime/90"
            data-filter="all"
          >
            Todos os Cases
          </button>
          <button
            class="filter-btn rounded-full border-2 border-white/20 bg-transparent px-6 py-2 font-display text-sm font-bold text-white transition-all hover:border-lime hover:bg-lime/10"
            data-filter="Vendas Sem Segredos"
          >
            üìö Vendas Sem Segredos
          </button>
          <button
            class="filter-btn rounded-full border-2 border-white/20 bg-transparent px-6 py-2 font-display text-sm font-bold text-white transition-all hover:border-blue-400 hover:bg-blue-400/10"
            data-filter="Services"
          >
            üéØ Services
          </button>
          <button
            class="filter-btn rounded-full border-2 border-white/20 bg-transparent px-6 py-2 font-display text-sm font-bold text-white transition-all hover:border-yellow-400 hover:bg-yellow-400/10"
            data-filter="Advisory"
          >
            üíº Advisory
          </button>
        </div>

        <div class="grid gap-8 lg:grid-cols-2" id="cases-grid">
          {
            cases.map((caso: any) => (
              <div 
                class="case-card rounded-2xl border border-white/10 bg-white/5 p-8 backdrop-blur-sm transition-all hover:border-lime/30"
                data-produto={caso.produto}
              >
                <div class="mb-4 flex items-center justify-between">
                  <div class="inline-flex items-center gap-2 rounded-full bg-lime/20 px-3 py-1">
                    {caso.produto.includes("Vendas Sem Segredos") && (
                      <Icons name="graduation-cap" class="h-4 w-4 text-lime" />
                    )}
                    {caso.produto.includes("Funda√ß√£o") && (
                      <Icons name="target" class="h-4 w-4 text-blue-400" />
                    )}
                    {caso.produto.includes("Acelera√ß√£o") && (
                      <Icons name="rocket" class="h-4 w-4 text-purple-400" />
                    )}
                    {caso.produto.includes("ScaleUp") && (
                      <Icons name="zap" class="h-4 w-4 text-orange-400" />
                    )}
                    <span class="font-display text-xs font-bold text-lime">{caso.produto}</span>
                  </div>
                  {caso.badge && (
                    <div class="inline-block rounded-full border border-lime/30 bg-dark px-3 py-1">
                      <span class="font-display text-xs font-bold text-lime">‚≠ê {caso.badge}</span>
                    </div>
                  )}
                </div>

                <div class="mb-6">
                  <h3 class="mb-2 font-display text-h3 text-white">{caso.empresa}</h3>
                  <p class="font-sans text-sm text-gray-400">{caso.nicho}</p>
                </div>

                <div class="mb-6 space-y-3">
                  <div class="grid grid-cols-3 gap-4 rounded-lg border border-lime/20 bg-lime/5 p-4">
                    <div>
                      <p class="mb-1 font-sans text-xs text-gray-400">Antes</p>
                      <p class="font-display text-lg font-bold text-white">{caso.antes}</p>
                    </div>
                    <div>
                      <p class="mb-1 font-sans text-xs text-gray-400">Depois</p>
                      <p class="font-display text-lg font-bold text-lime">{caso.depois}</p>
                    </div>
                    <div>
                      <p class="mb-1 font-sans text-xs text-gray-400">Tempo</p>
                      <p class="font-display text-lg font-bold text-white">{caso.tempo}</p>
                    </div>
                  </div>

                  <div class="flex items-center justify-center gap-3 rounded-lg border border-white/10 bg-white/5 p-3">
                    <Icons name="trending-up" class="h-5 w-5 text-lime" />
                    <div class="flex items-baseline gap-2">
                      <span class="font-display text-2xl font-bold text-lime">{caso.crescimento}</span>
                      <span class="font-sans text-sm text-gray-400">de crescimento</span>
                    </div>
                  </div>
                </div>

                <div class="mb-4 rounded-lg border border-red-500/20 bg-red-500/5 p-4">
                  <h4 class="mb-2 flex items-center gap-2 font-sans text-sm font-semibold text-white">
                    <span class="text-red-400">‚ùå</span> Situa√ß√£o Antes
                  </h4>
                  <p class="font-sans text-body-sm text-gray-400">{caso.situacaoAntes}</p>
                </div>

                <div class="rounded-lg border border-lime/20 bg-lime/5 p-4">
                  <h4 class="mb-2 flex items-center gap-2 font-sans text-sm font-semibold text-white">
                    <span class="text-lime">‚úì</span> O Que Fizemos
                  </h4>
                  <p class="font-sans text-body-sm text-gray-400">{caso.solucao}</p>
                </div>
              </div>
            ))
          }
        </div>

        <div class="mx-auto mt-16 max-w-2xl rounded-2xl border border-lime/20 bg-lime/5 p-8 text-center">
          <Icons name="award" class="mx-auto mb-4 h-12 w-12 text-lime" />
          <h3 class="mb-4 font-display text-h3 text-white">Quer Resultados Assim?</h3>
          <p class="mb-6 font-sans text-body text-gray-200">
            Escolha o formato ideal para o seu momento: educa√ß√£o (VSS), implementa√ß√£o (Services)
            ou consultoria estrat√©gica (Advisory).
          </p>
          <div class="flex flex-col justify-center gap-4 sm:flex-row">
            <a href="/vendas-sem-segredos">
              <button class="inline-flex h-12 w-full items-center justify-center rounded-lg bg-lime px-6 font-display font-bold text-dark transition-all hover:bg-lime/90 sm:w-auto">
                Ver Vendas Sem Segredos
              </button>
            </a>
            <a href="/contato">
              <button class="inline-flex h-12 w-full items-center justify-center rounded-lg border-2 border-white px-6 font-display font-semibold text-white transition-all hover:bg-white/20 sm:w-auto">
                Falar Comigo
              </button>
            </a>
          </div>
        </div>
      </Container>
    </section>
  </main>

<script>
  // Filtro de cases
  const filterButtons = document.querySelectorAll('.filter-btn');
  const caseCards = document.querySelectorAll('.case-card');

  filterButtons.forEach((button) => {
    button.addEventListener('click', () => {
      const filter = button.getAttribute('data-filter');

      // Atualizar estado visual dos bot√µes
      filterButtons.forEach((btn) => {
        if (btn === button) {
          btn.classList.remove('border-white/20', 'bg-transparent');
          btn.classList.add('border-lime', 'bg-lime', 'text-dark');
        } else {
          btn.classList.remove('border-lime', 'bg-lime', 'text-dark');
          btn.classList.add('border-white/20', 'bg-transparent', 'text-white');
        }
      });

      // Filtrar cards
      caseCards.forEach((card) => {
        const produto = card.getAttribute('data-produto') as string | null;
        
        if (filter === 'all') {
          (card as HTMLElement).style.display = 'block';
        } else if (produto !== null && produto.includes(filter as string)) {
          (card as HTMLElement).style.display = 'block';
        } else {
          (card as HTMLElement).style.display = 'none';
        }
      });
    });
  });
</script>

  <Footer />
</Layout>
