---
import { Image } from 'astro:assets'


interface Props {
  src: string | ImageMetadata
  alt: string
  width?: number
  height?: number
  widths?: number[]
  class?: string
  loading?: 'lazy' | 'eager'
  fetchpriority?: 'high' | 'low' | 'auto'
  quality?: number
  format?: 'webp' | 'avif' | 'png' | 'jpg'
  sizes?: string
}

const {
  src,
  alt,
  width,
  height,
  widths,
  class: className,
  loading = 'lazy',
  fetchpriority = 'auto',
  quality = 70,
  format = 'webp',
  sizes,
} = Astro.props
---

{widths ? (
  <Image
    src={src as any}
    alt={alt}
    widths={widths}
    class={className}
    loading={loading}
    fetchpriority={fetchpriority}
    quality={quality}
    decoding="async"
    format={format}
    sizes={sizes}
  />
) : (
  <Image
    src={src as any}
    alt={alt}
    width={width!}
    height={height!}
    class={className}
    loading={loading}
    fetchpriority={fetchpriority}
    quality={quality}
    decoding="async"
    format={format}
    sizes={sizes}
  />
)}
